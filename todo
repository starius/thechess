

MovesWidget: стрелочки направо-налево
MovesWidget: выдача в PGN-формате

+BorderWidget as WTemplate
List of Games etc as WViewWidget
+xml-string -- static? or singleton? -- singleton

+last_move hightlighting
+navigation from the history

bool Board::is_material_draw() const
{
      if (material[WHITE] == 0 && material[BLACK] == 0) {
            /* only kings left -> draw */
            return true;
#if 0 /* TODO */
      } else if (get_pawns(WHITE) || get_pawns(BLACK)) {
            /* there are still pawns -> no draw */
            return false;
      } else if ((material[WHITE] < mat_values[ROOK]
                  || (material[WHITE] == 2 * mat_values[KNIGHT]
                        && get_knights(WHITE).popcnt() == 2))
            && (material[BLACK] < mat_values[ROOK]
                  || (material[BLACK] == 2 * mat_values[KNIGHT]
                        && get_knights(BLACK).popcnt() == 2))) {
            /* both sides have only a knight or a bishop -> draw
             * both sides have <= 2 knights only -> draw */
            return true;
#endif
      }
